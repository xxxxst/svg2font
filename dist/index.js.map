{"version":3,"file":"index.js","sources":["../lib/utils.tsx","../lib/unicodes.tsx","../lib/template.tsx","../lib/font.tsx","../lib/index.tsx"],"sourcesContent":["const fs = require('fs')\r\n\r\n/**\r\n * 十六进制转十进制，获取码值\r\n * @param {*} code 十六进制\r\n * utf-8 编码格式 如 0x2001  unicode 编码格式 \\u2001\r\n * str.charCodeAt(0) Unicode 编码值 20013\r\n */\r\nexport function unicodeToCodePoint (code) {\r\n  return parseInt(code, 16)\r\n}\r\n\r\n\r\n/**\r\n * 十进制转十六进制\r\n * @param {*} code 十进制\r\n * utf-8 编码格式 如 0x2001  unicode 编码格式 \\u2001\r\n * str.charCodeAt(0) Unicode 编码值 20013\r\n */\r\nexport function codePointToUnicode (codePoint) {\r\n  return codePoint.toString(16)\r\n}\r\n\r\n\r\n/**\r\n * unicode 转 string，根据码值获取对应字符\r\n * @param {*} code 十六进制\r\n * utf-8 编码格式 如 0x2001  unicode 编码格式 \\u2001\r\n * str.charCodeAt(0) Unicode 编码值 20013\r\n */\r\nexport function unicodeToString (code) {\r\n  return String.fromCharCode(code)\r\n}\r\n\r\n/**\r\n * utf-8 转十进制字符串\r\n * @param {*} code 十六进制\r\n * utf-8 编码格式 如 0x2001  unicode 编码格式 \\u2001\r\n */\r\nexport function utf8ToString (code) {\r\n  return String.fromCharCode(parseInt(code, 16))\r\n}\r\n\r\n/*\r\n * [writeToFile description]\r\n * @param  {[type]} data [数组数据列表]\r\n * @param  {[type]} path [写入的路径]\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nexport function writeToFile (data, path, calllback?:() => void) {\r\n  if(typeof data === 'object')data = JSON.stringify(data, null, '\\t')\r\n  fs.writeFile(path, data, 'utf-8', err => {\r\n    if (err) throw err\r\n    calllback && calllback()\r\n  })\r\n}\r\n\r\n/*\r\n * [readToFile 读取文件]\r\n * @param  {[type]} path [读取路径]\r\n */\r\nexport function readToFile (path, calllback?:() => void) {\r\n  const data = fs.readFileSync(path, 'UTF-8')\r\n  calllback && calllback()\r\n  return data\r\n}\r\n\r\n\r\n/*\r\n * [readToFile 读取文件]\r\n * @param  {[type]} path [读取路径]\r\n */\r\nexport function readStreamToFile (path, calllback?:(dataString:any) => void) {\r\n  const promise = new Promise((resolve, reject) => {\r\n    const stream = fs.createReadStream(path, {\r\n      'encoding': 'utf8'\r\n    })\r\n\r\n    let dataString = ''\r\n\r\n    stream.on('data', data => {\r\n      dataString += data\r\n    })\r\n\r\n    stream.on('error', err => {\r\n      reject(err)\r\n    })\r\n\r\n    stream.on('end', () => {\r\n      resolve(dataString)\r\n      calllback && calllback(dataString)\r\n    })\r\n  })\r\n  return promise\r\n}\r\n","/**\r\n * Unicode字符平面 4号平面 至 13号平面\r\n * 私人使用区编号范围  U+E000-U+F8FF U+F0000-U+FFFFD U+100000-U+10FFFD\r\n * 注意执行 #x， 输出显示 0x，parseInt('0x40000', 16) 结果 262144， parseInt('#x40000', 16) 结果 null\r\n * 字符码点 (code point) 范围 57344 ~ 63743 983040 ~ 1048573 1048576 ~ 1114109\r\n */\r\nimport { unicodeToCodePoint } from './utils'\r\n\r\n/**\r\n * 生成私人区 unicode\r\n * @param {*} num 需要 unicode 字符个数\r\n * @param {*} startCodePoint 起始码点值\r\n * @param {*} type 若取值为 '&#x' 则返回为 &#x40000; 格式，反之返回16进制码点\r\n */\r\nexport default function createUnicodes (num: number = 0, startCodePoint: number  = 57344, type?: string): Array<string> {\r\n    if(\r\n        !(\r\n          (startCodePoint - unicodeToCodePoint('E000') >= 0 &&  unicodeToCodePoint('F8FF') - startCodePoint - num >= 0) ||\r\n          (startCodePoint - unicodeToCodePoint('F0000') >= 0 &&  unicodeToCodePoint('FFFFD') - startCodePoint - num >= 0) ||\r\n          (startCodePoint - unicodeToCodePoint('100000') >= 0 &&  unicodeToCodePoint('10FFFD') - startCodePoint - num >= 0)\r\n        )\r\n    ){\r\n      throw new Error('The startCodePoint  is not within the private use areas range !')\r\n    }\r\n\r\n    let unicodes = []\r\n    while(num){\r\n        num--;\r\n        unicodes.push()\r\n        const codePoint = startCodePoint + num\r\n        if(type === '#x'){\r\n          unicodes[num] = `&#x${codePoint.toString(16)};`\r\n        }else{\r\n          unicodes[num] = codePoint.toString(16)\r\n        }\r\n\r\n    }\r\n    return unicodes\r\n}\r\n\r\n","/**\r\n * ascent descent\r\n * SVGascent, descent and baseline https://riptutorial.com/svg/example/26220/ascent--descent-and-baseline\r\n * SVG https://www.w3.org/TR/SVG/text.html#DominantBaselineProperty\r\n * vert-adv-y 默认值为 ascent 与 descent 总和\r\n */\r\nexport function fontTemplate(DEFAULT_CONFIG) {\r\n  const { font, fontface, glyphs = [] } = DEFAULT_CONFIG\r\n  const TMPL = `<?xml version=\"1.0\" standalone=\"no\"?>\r\n    <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\">\r\n      <metadata>${font.copyright}</metadata>\r\n      <defs>\r\n        <font id=\"${font.id}\" horiz-adv-x=\"${font.horizAdvX}\" vert-adv-y=\"${font.vertAdvY}\" >\r\n          <font-face font-family=\"${fontface.fontFamily}\" font-weight=\"${fontface.fontWeight}\" font-stretch=\"${fontface.fontStretch}\" units-per-em=\"${fontface.unitsPerEm}\" ascent=\"${fontface.ascent}\" descent=\"${fontface.descent}\" />\r\n          <missing-glyph />${ glyphs.map(glyph => `\r\n          <glyph ${glyph.glyphName ? (`glyph-name=\"${glyph.glyphName}\" `):''}unicode=\"&#x${glyph.unicode};\" d=\"${glyph.d}\" horiz-adv-x=\"${glyph.horizAdvX}\" vert-adv-y=\"${glyph.vertAdvY}\" />`).join('')}\r\n        </font>\r\n      </defs>\r\n    </svg>`\r\n  return TMPL\r\n}\r\n\r\n\r\nexport function fontCSSTemplate(fontTypes, fontName, fontFamily, fontFamilyClass, glyphs = [], fontCdnUrl = '') {\r\n  const CSSTMPL = `\r\n  @font-face {\r\n    font-family: '${fontFamily}';${fontTypes.includes('eot') ? `\\n    src: url('${fontCdnUrl}${fontName}.eot'); /* IE9 */` : \"\"}\r\n    src: ${fontTypes.map(item => {\r\n      if(item == 'eot'){\r\n        return `url('${fontCdnUrl}${fontName}.eot?#iefix') format('embedded-opentype'); /* IE6-IE8 */`\r\n      }else if(item == 'woff2'){\r\n        return `url('${fontCdnUrl}${fontName}.woff2') format('woff2'); /* chrome、firefox */`\r\n      }else if(item == 'woff'){\r\n        return `url('${fontCdnUrl}${fontName}.woff') format('woff'); /* chrome、firefox */`\r\n      }else if(item == 'ttf'){\r\n        return `url('${fontCdnUrl}${fontName}.ttf') format('truetype'); /* chrome、firefox、opera、Safari, Android, iOS 4.2+ */`\r\n      }else if(item == 'svg'){\r\n        return `url('${fontCdnUrl}${fontName}.svg#${fontFamily}') format('svg'); /* iOS 4.1- */`\r\n      }\r\n    }).join(',\\n\\t\\t')};\r\n  }\r\n\r\n  .${fontFamilyClass}{\r\n    font-family: '${fontFamily}';\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  ${ glyphs.map(({glyphName, unicode}) => `\r\n  .${glyphName}::before {\r\n    content: \"\\\\${unicode}\";\r\n  }`).join('\\n')}`\r\n  return CSSTMPL\r\n}\r\n\r\nexport function fontSCSSTemplate(fontTypes, fontName, fontFamily, fontFamilyClass, glyphs = [], fontCdnUrl = '') {\r\n\tconst CSSTMPL = `\r\n@mixin mx-${fontFamilyClass}-face($path) {\r\n\tfont-family: '${fontFamily}';${fontTypes.includes('eot') ? `\\n    src: url($path + '${fontCdnUrl}${fontName}.eot'); /* IE9 */` : \"\"}\r\n\tsrc: ${fontTypes.map(item => {\r\n\tif(item == 'eot'){\r\n\t\treturn `url($path + '${fontCdnUrl}${fontName}.eot?#iefix') format('embedded-opentype'); /* IE6-IE8 */`\r\n\t}else if(item == 'woff2'){\r\n\t\treturn `url($path + '${fontCdnUrl}${fontName}.woff2') format('woff2'); /* chrome、firefox */`\r\n\t}else if(item == 'woff'){\r\n\t\treturn `url($path + '${fontCdnUrl}${fontName}.woff') format('woff'); /* chrome、firefox */`\r\n\t}else if(item == 'ttf'){\r\n\t\treturn `url($path + '${fontCdnUrl}${fontName}.ttf') format('truetype'); /* chrome、firefox、opera、Safari, Android, iOS 4.2+ */`\r\n\t}else if(item == 'svg'){\r\n\t\treturn `url($path + '${fontCdnUrl}${fontName}.svg#${fontFamily}') format('svg'); /* iOS 4.1- */`\r\n\t}\r\n\t}).join(',\\n\\t\\t ')};\r\n}\r\n\r\n%ex-${fontFamilyClass} {\r\n\tfont-family: '${fontFamily}';\r\n\tfont-style: normal;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\t&:before { display: inline-block; vertical-align: top; }\r\n}\r\n${ glyphs.map(({glyphName, unicode}) => `\r\n%ex-${fontName}-${glyphName} { @extend %ex-${fontFamilyClass}; &:before { content: \"\\\\${unicode}\"; } }`).join('\\n')}`\r\n\treturn CSSTMPL\r\n  }\r\n\r\nexport function svgSymbolTemplate(fontTypes, fontName, glyphs = []) {\r\n  const SYMBOLTMPL = `\r\n  (function (document) {\r\nvar symbols = '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display:none\">${ glyphs.map(({glyphName, originDs}) => `<symbol id=\"${glyphName}\" viewBox=\"0 0 1024 1024\">${ originDs.map(({d, fill}) => `<path d=\"${d}\" fill=\"${fill}\"></path>`).join('') }</symbol>`).join('')}</svg>'\r\n    document.body.insertAdjacentHTML('afterBegin', symbols)\r\n  })(document);`\r\n  return SYMBOLTMPL\r\n}\r\n\r\nexport function htmlTemplate(fontTypes, fontName, fontFamilyClass, glyphs = []) {\r\n  const HTMLTMPL = `<!DOCTYPE html>\r\n  <html>\r\n  <head>\r\n    <meta charset=\"utf-8\"/>\r\n    <title>Quarkicon Demo</title>\r\n    <link rel=\"shortcut icon\" href=\"http://quark.jd.com/favicon.ico\" type=\"image/x-icon\"/>\r\n    <link rel=\"stylesheet\" href=\"https://g.alicdn.com/thx/cube/1.3.2/cube.min.css\">\r\n    <link rel=\"stylesheet\" href=\"${fontName}.css\">\r\n    <style type=\"text/css\">\r\n      /* tabs */\r\n      .nav-tabs {\r\n        position: relative;\r\n      }\r\n\r\n      .nav-tabs .nav-more {\r\n        position: absolute;\r\n        right: 0;\r\n        bottom: 0;\r\n        height: 42px;\r\n        line-height: 42px;\r\n        color: #666;\r\n      }\r\n\r\n      #tabs {\r\n        border-bottom: 1px solid #eee;\r\n      }\r\n\r\n      #tabs li {\r\n        cursor: pointer;\r\n        width: 100px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        text-align: center;\r\n        font-size: 16px;\r\n        border-bottom: 2px solid transparent;\r\n        position: relative;\r\n        z-index: 1;\r\n        margin-bottom: -1px;\r\n        color: #666;\r\n      }\r\n\r\n\r\n      #tabs .active {\r\n        border-bottom-color: #f00;\r\n        color: #222;\r\n      }\r\n\r\n      .tab-container .content {\r\n        display: none;\r\n      }\r\n\r\n      /* 页面布局 */\r\n      .main {\r\n        padding: 30px 100px;\r\n        width: 960px;\r\n        margin: 0 auto;\r\n      }\r\n\r\n      .main .logo {\r\n        color: #333;\r\n        text-align: left;\r\n        margin-bottom: 30px;\r\n        line-height: 1;\r\n        height: 42px;\r\n        overflow: hidden;\r\n        *zoom: 1;\r\n      }\r\n\r\n      .main .logo a {\r\n        font-size: 40px;\r\n        color: #333;\r\n      }\r\n\r\n      .helps {\r\n        margin-top: 40px;\r\n      }\r\n\r\n      .helps pre {\r\n        padding: 20px;\r\n        margin: 10px 0;\r\n        border: solid 1px #e7e1cd;\r\n        background-color: #fffdef;\r\n        overflow: auto;\r\n      }\r\n\r\n      .icon_lists {\r\n        width: 100% !important;\r\n        overflow: hidden;\r\n        *zoom: 1;\r\n      }\r\n\r\n      .icon_lists li {\r\n        width: 100px;\r\n        margin-bottom: 10px;\r\n        margin-right: 20px;\r\n        text-align: center;\r\n        list-style: none !important;\r\n        cursor: default;\r\n      }\r\n\r\n      .icon_lists li .code-name {\r\n        line-height: 1.2;\r\n      }\r\n\r\n      .icon_lists .icon {\r\n        display: block;\r\n        height: 100px;\r\n        line-height: 100px;\r\n        font-size: 42px;\r\n        margin: 10px auto;\r\n        color: #333;\r\n        -webkit-transition: font-size 0.25s linear, width 0.25s linear;\r\n        -moz-transition: font-size 0.25s linear, width 0.25s linear;\r\n        transition: font-size 0.25s linear, width 0.25s linear;\r\n      }\r\n\r\n      .icon_lists .icon:hover {\r\n        font-size: 100px;\r\n      }\r\n\r\n      .icon_lists .svg-icon {\r\n        /* 通过设置 font-size 来改变图标大小 */\r\n        width: 1em;\r\n        /* 图标和文字相邻时，垂直对齐 */\r\n        vertical-align: -0.15em;\r\n        /* 通过设置 color 来改变 SVG 的颜色/fill */\r\n        fill: currentColor;\r\n        /* path 和 stroke 溢出 viewBox 部分在 IE 下会显示\r\n            normalize.css 中也包含这行 */\r\n        overflow: hidden;\r\n      }\r\n\r\n      .icon_lists li .name,\r\n      .icon_lists li .code-name {\r\n        color: #666;\r\n      }\r\n\r\n      /* markdown 样式 */\r\n      .markdown {\r\n        color: #666;\r\n        font-size: 14px;\r\n        line-height: 1.8;\r\n      }\r\n\r\n      .highlight {\r\n        line-height: 1.5;\r\n      }\r\n\r\n      .markdown img {\r\n        vertical-align: middle;\r\n        max-width: 100%;\r\n      }\r\n\r\n      .markdown h1 {\r\n        color: #404040;\r\n        font-weight: 500;\r\n        line-height: 40px;\r\n        margin-bottom: 24px;\r\n      }\r\n\r\n      .markdown h2,\r\n      .markdown h3,\r\n      .markdown h4,\r\n      .markdown h5,\r\n      .markdown h6 {\r\n        color: #404040;\r\n        margin: 1.6em 0 0.6em 0;\r\n        font-weight: 500;\r\n        clear: both;\r\n      }\r\n\r\n      .markdown h1 {\r\n        font-size: 28px;\r\n      }\r\n\r\n      .markdown h2 {\r\n        font-size: 22px;\r\n      }\r\n\r\n      .markdown h3 {\r\n        font-size: 16px;\r\n      }\r\n\r\n      .markdown h4 {\r\n        font-size: 14px;\r\n      }\r\n\r\n      .markdown h5 {\r\n        font-size: 12px;\r\n      }\r\n\r\n      .markdown h6 {\r\n        font-size: 12px;\r\n      }\r\n\r\n      .markdown hr {\r\n        height: 1px;\r\n        border: 0;\r\n        background: #e9e9e9;\r\n        margin: 16px 0;\r\n        clear: both;\r\n      }\r\n\r\n      .markdown p {\r\n        margin: 1em 0;\r\n      }\r\n\r\n      .markdown>p,\r\n      .markdown>blockquote,\r\n      .markdown>.highlight,\r\n      .markdown>ol,\r\n      .markdown>ul {\r\n        width: 80%;\r\n      }\r\n\r\n      .markdown ul>li {\r\n        list-style: circle;\r\n      }\r\n\r\n      .markdown>ul li,\r\n      .markdown blockquote ul>li {\r\n        margin-left: 20px;\r\n        padding-left: 4px;\r\n      }\r\n\r\n      .markdown>ul li p,\r\n      .markdown>ol li p {\r\n        margin: 0.6em 0;\r\n      }\r\n\r\n      .markdown ol>li {\r\n        list-style: decimal;\r\n      }\r\n\r\n      .markdown>ol li,\r\n      .markdown blockquote ol>li {\r\n        margin-left: 20px;\r\n        padding-left: 4px;\r\n      }\r\n\r\n      .markdown code {\r\n        margin: 0 3px;\r\n        padding: 0 5px;\r\n        background: #eee;\r\n        border-radius: 3px;\r\n      }\r\n\r\n      .markdown strong,\r\n      .markdown b {\r\n        font-weight: 600;\r\n      }\r\n\r\n      .markdown>table {\r\n        border-collapse: collapse;\r\n        border-spacing: 0px;\r\n        empty-cells: show;\r\n        border: 1px solid #e9e9e9;\r\n        width: 95%;\r\n        margin-bottom: 24px;\r\n      }\r\n\r\n      .markdown>table th {\r\n        white-space: nowrap;\r\n        color: #333;\r\n        font-weight: 600;\r\n      }\r\n\r\n      .markdown>table th,\r\n      .markdown>table td {\r\n        border: 1px solid #e9e9e9;\r\n        padding: 8px 16px;\r\n        text-align: left;\r\n      }\r\n\r\n      .markdown>table th {\r\n        background: #F7F7F7;\r\n      }\r\n\r\n      .markdown blockquote {\r\n        font-size: 90%;\r\n        color: #999;\r\n        border-left: 4px solid #e9e9e9;\r\n        padding-left: 0.8em;\r\n        margin: 1em 0;\r\n      }\r\n\r\n      .markdown blockquote p {\r\n        margin: 0;\r\n      }\r\n\r\n      .markdown .anchor {\r\n        opacity: 0;\r\n        transition: opacity 0.3s ease;\r\n        margin-left: 8px;\r\n      }\r\n\r\n      .markdown .waiting {\r\n        color: #ccc;\r\n      }\r\n\r\n      .markdown h1:hover .anchor,\r\n      .markdown h2:hover .anchor,\r\n      .markdown h3:hover .anchor,\r\n      .markdown h4:hover .anchor,\r\n      .markdown h5:hover .anchor,\r\n      .markdown h6:hover .anchor {\r\n        opacity: 1;\r\n        display: inline-block;\r\n      }\r\n\r\n      .markdown>br,\r\n      .markdown>p>br {\r\n        clear: both;\r\n      }\r\n\r\n\r\n      .hljs {\r\n        display: block;\r\n        background: white;\r\n        padding: 0.5em;\r\n        color: #333333;\r\n        overflow-x: auto;\r\n      }\r\n\r\n      .hljs-comment,\r\n      .hljs-meta {\r\n        color: #969896;\r\n      }\r\n\r\n      .hljs-string,\r\n      .hljs-variable,\r\n      .hljs-template-variable,\r\n      .hljs-strong,\r\n      .hljs-emphasis,\r\n      .hljs-quote {\r\n        color: #df5000;\r\n      }\r\n\r\n      .hljs-keyword,\r\n      .hljs-selector-tag,\r\n      .hljs-type {\r\n        color: #a71d5d;\r\n      }\r\n\r\n      .hljs-literal,\r\n      .hljs-symbol,\r\n      .hljs-bullet,\r\n      .hljs-attribute {\r\n        color: #0086b3;\r\n      }\r\n\r\n      .hljs-section,\r\n      .hljs-name {\r\n        color: #63a35c;\r\n      }\r\n\r\n      .hljs-tag {\r\n        color: #333333;\r\n      }\r\n\r\n      .hljs-title,\r\n      .hljs-attr,\r\n      .hljs-selector-id,\r\n      .hljs-selector-class,\r\n      .hljs-selector-attr,\r\n      .hljs-selector-pseudo {\r\n        color: #795da3;\r\n      }\r\n\r\n      .hljs-addition {\r\n        color: #55a532;\r\n        background-color: #eaffea;\r\n      }\r\n\r\n      .hljs-deletion {\r\n        color: #bd2c00;\r\n        background-color: #ffecec;\r\n      }\r\n\r\n      .hljs-link {\r\n        text-decoration: underline;\r\n      }\r\n\r\n      /* 代码高亮 */\r\n      /* PrismJS 1.15.0\r\n      https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript */\r\n      /**\r\n      * prism.js default theme for JavaScript, CSS and HTML\r\n      * Based on dabblet (http://dabblet.com)\r\n      * @author Lea Verou\r\n      */\r\n      code[class*=\"language-\"],\r\n      pre[class*=\"language-\"] {\r\n        color: black;\r\n        background: none;\r\n        text-shadow: 0 1px white;\r\n        font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\r\n        text-align: left;\r\n        white-space: pre;\r\n        word-spacing: normal;\r\n        word-break: normal;\r\n        word-wrap: normal;\r\n        line-height: 1.5;\r\n\r\n        -moz-tab-size: 4;\r\n        -o-tab-size: 4;\r\n        tab-size: 4;\r\n\r\n        -webkit-hyphens: none;\r\n        -moz-hyphens: none;\r\n        -ms-hyphens: none;\r\n        hyphens: none;\r\n      }\r\n\r\n      pre[class*=\"language-\"]::-moz-selection,\r\n      pre[class*=\"language-\"] ::-moz-selection,\r\n      code[class*=\"language-\"]::-moz-selection,\r\n      code[class*=\"language-\"] ::-moz-selection {\r\n        text-shadow: none;\r\n        background: #b3d4fc;\r\n      }\r\n\r\n      pre[class*=\"language-\"]::selection,\r\n      pre[class*=\"language-\"] ::selection,\r\n      code[class*=\"language-\"]::selection,\r\n      code[class*=\"language-\"] ::selection {\r\n        text-shadow: none;\r\n        background: #b3d4fc;\r\n      }\r\n\r\n      @media print {\r\n\r\n        code[class*=\"language-\"],\r\n        pre[class*=\"language-\"] {\r\n          text-shadow: none;\r\n        }\r\n      }\r\n\r\n      /* Code blocks */\r\n      pre[class*=\"language-\"] {\r\n        padding: 1em;\r\n        margin: .5em 0;\r\n        overflow: auto;\r\n      }\r\n\r\n      :not(pre)>code[class*=\"language-\"],\r\n      pre[class*=\"language-\"] {\r\n        background: #f5f2f0;\r\n      }\r\n\r\n      /* Inline code */\r\n      :not(pre)>code[class*=\"language-\"] {\r\n        padding: .1em;\r\n        border-radius: .3em;\r\n        white-space: normal;\r\n      }\r\n\r\n      .token.comment,\r\n      .token.prolog,\r\n      .token.doctype,\r\n      .token.cdata {\r\n        color: slategray;\r\n      }\r\n\r\n      .token.punctuation {\r\n        color: #999;\r\n      }\r\n\r\n      .namespace {\r\n        opacity: .7;\r\n      }\r\n\r\n      .token.property,\r\n      .token.tag,\r\n      .token.boolean,\r\n      .token.number,\r\n      .token.constant,\r\n      .token.symbol,\r\n      .token.deleted {\r\n        color: #905;\r\n      }\r\n\r\n      .token.selector,\r\n      .token.attr-name,\r\n      .token.string,\r\n      .token.char,\r\n      .token.builtin,\r\n      .token.inserted {\r\n        color: #690;\r\n      }\r\n\r\n      .token.operator,\r\n      .token.entity,\r\n      .token.url,\r\n      .language-css .token.string,\r\n      .style .token.string {\r\n        color: #9a6e3a;\r\n        background: hsla(0, 0%, 100%, .5);\r\n      }\r\n\r\n      .token.atrule,\r\n      .token.attr-value,\r\n      .token.keyword {\r\n        color: #07a;\r\n      }\r\n\r\n      .token.function,\r\n      .token.class-name {\r\n        color: #DD4A68;\r\n      }\r\n\r\n      .token.regex,\r\n      .token.important,\r\n      .token.variable {\r\n        color: #e90;\r\n      }\r\n\r\n      .token.important,\r\n      .token.bold {\r\n        font-weight: bold;\r\n      }\r\n\r\n      .token.italic {\r\n        font-style: italic;\r\n      }\r\n\r\n      .token.entity {\r\n        cursor: help;\r\n      }\r\n    </style>\r\n    <!-- jQuery -->\r\n    <script src=\"http://wq.360buyimg.com/data/ppms/others/quarkicon.jquery.v1.9.1.js\"></script>\r\n    <!-- 代码高亮 -->\r\n    <script src=\"http://wq.360buyimg.com/data/ppms/others/quarkicon.prismjs.js\"></script>\r\n  </head>\r\n  <body>\r\n    <div class=\"main\">\r\n      <h1 class=\"logo\"><a href=\"http://quark.jd.com/icon/\" title=\"Quarkicon 首页\" target=\"_blank\">QuarkIcon</a></h1>\r\n      <div class=\"nav-tabs\">\r\n        <ul id=\"tabs\" class=\"dib-box\">\r\n          <li class=\"dib active\"><span>Unicode</span></li>\r\n          <li class=\"dib\"><span>Font class</span></li>\r\n          <li class=\"dib\"><span>Symbol</span></li>\r\n        </ul>\r\n\r\n        <a href=\"http://quark.jd.com/icon/\" target=\"_blank\" class=\"nav-more\">去QuarkIcon官网</a>\r\n\r\n      </div>\r\n      <div class=\"tab-container\">\r\n        <div class=\"content unicode\" style=\"display: block;\">\r\n            <ul class=\"icon_lists dib-box\">\r\n              ${\r\n                glyphs.map(({originName, unicode}) => `\r\n                <li class=\"dib\">\r\n                <span class=\"icon ${fontFamilyClass}\">&#x${unicode};</span>\r\n                  <div class=\"name\">${originName}</div>\r\n                  <div class=\"code-name\">&amp;#x${unicode};</div>\r\n                </li>\r\n                `).join('')\r\n              }\r\n            </ul>\r\n            <div class=\"article markdown\">\r\n            <h2 id=\"unicode-\">Unicode 引用</h2>\r\n            <hr>\r\n\r\n            <p>Unicode 是字体在网页端最原始的应用方式，特点是：</p>\r\n            <ul>\r\n              <li>兼容性最好，支持 IE6+，及所有现代浏览器。</li>\r\n              <li>支持按字体的方式去动态调整图标大小，颜色等等。</li>\r\n              <li>但是因为是字体，所以不支持多色。只能使用平台里单色的图标，就算项目里有多色图标也会自动去色。</li>\r\n            </ul>\r\n            <blockquote>\r\n              <p>注意：新版 QuarkIcon 支持多色图标，这些多色图标在 Unicode 模式下将不能使用，如果有需求建议使用 symbol 的引用方式</p>\r\n            </blockquote>\r\n            <p>Unicode 使用步骤如下：</p>\r\n            <h3 id=\"-font-face\">第一步：拷贝项目下面生成的 <code>@font-face</code></h3>\r\n  <pre><code class=\"language-css\"\r\n  >@font-face {\r\n    font-family: 'font_family';\r\n    src: url('quarkicon.eot');\r\n    src: url('quarkicon.eot?#iefix') format('embedded-opentype'),\r\n        url('quarkicon.woff2') format('woff2'),\r\n        url('quarkicon.woff') format('woff'),\r\n        url('quarkicon.ttf') format('truetype'),\r\n        url('quarkicon.svg#font_family') format('svg');\r\n  }\r\n  </code></pre>\r\n            <h3 id=\"-iconfont-\">第二步：定义使用 quarkicon 的样式</h3>\r\n  <pre><code class=\"language-css\"\r\n  >.font_family {\r\n    font-family: \"font_family\" !important;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  </code></pre>\r\n            <h3 id=\"-\">第三步：挑选相应图标并获取字体编码，应用于页面</h3>\r\n  <pre>\r\n  <code class=\"language-html\"\r\n  >&lt;span class=\"font_family\"&gt;&amp;#x33;&lt;/span&gt;\r\n  </code></pre>\r\n            <blockquote>\r\n              <p>\"font_family\" 是你项目下的 font-family。可以通过编辑项目查看，默认是 \"quarkicon\"。</p>\r\n            </blockquote>\r\n            </div>\r\n        </div>\r\n        <div class=\"content font-class\">\r\n          <ul class=\"icon_lists dib-box\">\r\n          ${\r\n            glyphs.map(({glyphName, originName, unicode}) => `\r\n            <li class=\"dib\">\r\n              <span class=\"icon ${fontFamilyClass} ${glyphName}\"></span>\r\n              <div class=\"name\">\r\n                ${originName}\r\n              </div>\r\n              <div class=\"code-name\">.${glyphName}\r\n              </div>\r\n            </li>\r\n            `).join('')\r\n          }\r\n          </ul>\r\n          <div class=\"article markdown\">\r\n          <h2 id=\"font-class-\">font-class 引用</h2>\r\n          <hr>\r\n\r\n          <p>font-class 是 Unicode 使用方式的一种变种，主要是解决 Unicode 书写不直观，语意不明确的问题。</p>\r\n          <p>与 Unicode 使用方式相比，具有如下特点：</p>\r\n          <ul>\r\n            <li>兼容性良好，支持 IE8+，及所有现代浏览器。</li>\r\n            <li>相比于 Unicode 语意明确，书写更直观。可以很容易分辨这个 icon 是什么。</li>\r\n            <li>因为使用 class 来定义图标，所以当要替换图标时，只需要修改 class 里面的 Unicode 引用。</li>\r\n            <li>不过因为本质上还是使用的字体，所以多色图标还是不支持的。</li>\r\n          </ul>\r\n          <p>使用步骤如下：</p>\r\n          <h3 id=\"-fontclass-\">第一步：引入项目下面生成的 fontclass 代码：</h3>\r\n  <pre><code class=\"language-html\">&lt;link rel=\"stylesheet\" href=\"./quarkicon.css\"&gt;\r\n  </code></pre>\r\n          <h3 id=\"-\">第二步：挑选相应图标并获取类名，应用于页面：</h3>\r\n  <pre><code class=\"language-html\">&lt;span class=\"font_family icon-xxx\"&gt;&lt;/span&gt;\r\n  </code></pre>\r\n          <blockquote>\r\n            <p>\"\r\n              font_family\" 是你项目下的 font-family。可以通过编辑项目查看，默认是 \"quarkicon\"。</p>\r\n          </blockquote>\r\n        </div>\r\n        </div>\r\n        <div class=\"content symbol\">\r\n            <ul class=\"icon_lists dib-box\">\r\n              ${\r\n                glyphs.map(({glyphName,originName, unicode}) => `\r\n                <li class=\"dib\">\r\n                  <svg class=\"icon svg-icon\" aria-hidden=\"true\">\r\n                    <use xlink:href=\"#${glyphName}\"></use>\r\n                  </svg>\r\n                  <div class=\"name\">${originName}</div>\r\n                  <div class=\"code-name\">#${glyphName}</div>\r\n                </li>\r\n                `).join('')\r\n              }\r\n            </ul>\r\n            <div class=\"article markdown\">\r\n            <h2 id=\"symbol-\">Symbol 引用</h2>\r\n            <hr>\r\n\r\n            <p>这是一种全新的使用方式，应该说这才是未来的主流，也是平台目前推荐的用法。相关介绍可以参考这篇<a href=\"https://aotu.io/notes/2016/07/09/SVG-Symbol-component-practice/\">文章</a>\r\n              这种用法其实是做了一个 SVG 的集合，与另外两种相比具有如下特点：</p>\r\n            <ul>\r\n              <li>支持多色图标了，不再受单色限制。</li>\r\n              <li>通过一些技巧，支持像字体那样，通过 <code>font-size</code>, <code>color</code> 来调整样式。</li>\r\n              <li>兼容性较差，支持 IE9+，及现代浏览器。</li>\r\n              <li>浏览器渲染 SVG 的性能一般，还不如 png。</li>\r\n            </ul>\r\n            <p>使用步骤如下：</p>\r\n            <h3 id=\"-symbol-\">第一步：引入项目下面生成的 symbol 代码：</h3>\r\n  <pre><code class=\"language-html\">&lt;script src=\"./quarkicon.js\"&gt;&lt;/script&gt;\r\n  </code></pre>\r\n            <h3 id=\"-css-\">第二步：加入通用 CSS 代码（引入一次就行）：</h3>\r\n  <pre><code class=\"language-html\">&lt;style&gt;\r\n  .icon {\r\n    width: 1em;\r\n    height: 1em;\r\n    vertical-align: -0.15em;\r\n    fill: currentColor;\r\n    overflow: hidden;\r\n  }\r\n  &lt;/style&gt;\r\n  </code></pre>\r\n            <h3 id=\"-\">第三步：挑选相应图标并获取类名，应用于页面：</h3>\r\n  <pre><code class=\"language-html\">&lt;svg class=\"icon\" aria-hidden=\"true\"&gt;\r\n    &lt;use xlink:href=\"#icon-xxx\"&gt;&lt;/use&gt;\r\n  &lt;/svg&gt;\r\n  </code></pre>\r\n            </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <script>\r\n    $(document).ready(function () {\r\n        $('.tab-container .content:first').show()\r\n\r\n        $('#tabs li').click(function (e) {\r\n          var tabContent = $('.tab-container .content')\r\n          var index = $(this).index()\r\n\r\n          if ($(this).hasClass('active')) {\r\n            return\r\n          } else {\r\n            $('#tabs li').removeClass('active')\r\n            $(this).addClass('active')\r\n\r\n            tabContent.hide().eq(index).fadeIn()\r\n          }\r\n        })\r\n      })\r\n    </script>\r\n    <script src=\"${fontName}.js\"></script>\r\n  </body>\r\n  </html>`\r\n  return HTMLTMPL\r\n}\r\n\r\n\r\nexport function AndroidTemplate(fontName, glyphs = []) {\r\n  const AndroidTMPL = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n  <resources>\r\n  ${\r\n    glyphs.map(({glyphName, originName, unicode}) => `<string name=\"${glyphName.replace(/-/g, '_').toLowerCase()}\">&#x${unicode};</string> <!--${originName}-->`).join('\\n  ')\r\n  }\r\n  </resources>`\r\n  return AndroidTMPL\r\n}\r\n\r\n\r\nexport function iOSTemplate(fontFamily, glyphs = [], copyright=\"Copyright (C)\") {\r\n  const upCaseFontFamily = fontFamily.replace(fontFamily[0], fontFamily[0].toUpperCase())\r\n  const iOSTMPL = `\r\n  //\r\n  // JDIF_${upCaseFontFamily}.h\r\n  // fontFamily:${fontFamily}\r\n  //\r\n  // Version 1.0\r\n  // ${copyright}\r\n  //\r\n\r\n  #ifndef JDIF_${upCaseFontFamily}_H\r\n  #define JDIF_${upCaseFontFamily}_H\r\n\r\n  NSString * const JDIF_${upCaseFontFamily} = @\"${fontFamily}\";\r\n\r\n  ${\r\n    glyphs.map(({glyphName, originName, unicode}) => `NSString * const JDIF_${glyphName.replace(/-/g, '_').toUpperCase()} = @\"\\\\U${unicode.padStart(8, 0)}\"; // ${originName}`).join('\\n  ')\r\n  }\r\n\r\n  #endif`\r\n  return iOSTMPL\r\n}\r\n\r\n\r\nexport function RNTemplate(fontFamily, glyphs = []) {\r\n  const upCaseFontFamily = fontFamily.replace(fontFamily[0], fontFamily[0].toUpperCase())\r\n  const RNTMPL = `export default {\r\n  ${\r\n    glyphs.map(({glyphName, originName, unicode}) => `'${glyphName}': ${parseInt(unicode, 16)},// ${originName}`).join('\\n  ')\r\n  }\r\n}`\r\n  return RNTMPL\r\n}\r\n","import { writeToFile } from './utils'\r\nimport createUnicodes from './unicodes'\r\nconst path = require('path')\r\nconst fs = require('fs')\r\nconst _ = require('lodash')\r\n\r\nconst xmldom = require('xmldom')\r\nconst DOMParser = xmldom.DOMParser // 解析为文档对象\r\nconst svgpath = require('svgpath')\r\n\r\nconst svg2ttf = require('svg2ttf')\r\nconst ttf2svg = require('ttf2svg')\r\nconst ttf2eot = require('ttf2eot')\r\nconst ttf2woff = require('ttf2woff')\r\nconst ttf2woff2 = require('ttf2woff2')\r\n\r\n\r\nimport { fontTemplate, fontCSSTemplate, fontSCSSTemplate, svgSymbolTemplate, htmlTemplate, AndroidTemplate, iOSTemplate, RNTemplate } from \"./template\";\r\n\r\n// font attribute doc\r\n// https://www.w3.org/TR/1999/WD-SVG-19991203/fonts.html#FontElementAscentAttribute\r\nconst DEFAULT_CONFIG = {\r\n  font: {\r\n    id: 'svg2font',\r\n    horizAdvX: 1024,\r\n\tvertAdvY: 1024,\r\n\tcopyright: 'Copyright (C)',\r\n  },\r\n  fontface: {\r\n    fontFamily: 'svg2font',\r\n    fontWeight: '500',\r\n    fontStretch: 'normal',\r\n    unitsPerEm: '1024',\r\n    ascent: '896',\r\n    descent: '-128'\r\n  },\r\n  glyphs: []\r\n}\r\n\r\n/**\r\n *\r\n * 字体对象\r\n * @class Font\r\n * @support svg, ttf, eot, woff, woff2\r\n */\r\nexport default class Font {\r\n  public glyphs;\r\n  public fontName;\r\n  public fontFamily;\r\n  public fontFamilyClass;\r\n  public svgFont;\r\n  public ascent;\r\n  public descent;\r\n  public svgSize;\r\n  public copyright;\r\n  constructor ({\r\n    fontName = 'svg2font',\r\n    fontFamily = 'svg2font',\r\n    fontFamilyClass = 'font_family',\r\n    glyphSvgs,\r\n    ascent = 896,\r\n    descent = -128,\r\n    startCodePoint = 57344,\r\n\tcustomUnicodeList,\r\n\tsvgSize,\r\n\tcopyright,\r\n  }) {\r\n    this.fontName = fontName\r\n    this.fontFamily = fontFamily\r\n    this.fontFamilyClass =  fontFamilyClass\r\n    this.ascent = ascent\r\n    this.descent = descent\r\n\r\n\tthis.svgSize = svgSize || (1/1.8);\r\n\tthis.copyright = copyright || 'Copyright (C)';\r\n    this.glyphs = this.createGlyphs(glyphSvgs, startCodePoint, customUnicodeList)\r\n    const CONFIG = _.merge(DEFAULT_CONFIG, {\r\n      font: {\r\n\t\tid: fontName,\r\n\t\tcopyright: copyright,\r\n      },\r\n      fontface: {\r\n        fontFamily: fontName,\r\n        ascent,\r\n        descent,\r\n      },\r\n      glyphs: this.glyphs,\r\n    })\r\n    this.svgFont = fontTemplate(DEFAULT_CONFIG)\r\n  }\r\n\r\n  createGlyphs (glyphSvgs, startCodePoint, customUnicodeList) {\r\n    const { ascent } = this\r\n    const glyphs = []\r\n\r\n    if(Array.isArray(glyphSvgs)){\r\n      let unicodes\r\n      if(customUnicodeList && Array.isArray(customUnicodeList) && customUnicodeList.length >= glyphSvgs.length){\r\n        unicodes = customUnicodeList\r\n      } else {\r\n        unicodes = createUnicodes(glyphSvgs.length, startCodePoint)\r\n      }\r\n\r\n      glyphSvgs.map((data, idx) => {\r\n        const d = this.getGlyphData(data, ascent)\r\n        glyphs.push({ unicode: unicodes[idx], d: d[0], originDs: d[1], horizAdvX: 1024, vertAdvY: 1024, glyphName: `${this.fontName}_${idx}`})\r\n      })\r\n\r\n      return glyphs\r\n    }\r\n\r\n    if(Object.prototype.toString.call(glyphSvgs) === '[object Object]'){\r\n      const glyphArr = Object.keys(glyphSvgs)\r\n      let unicodes\r\n      if(customUnicodeList && Array.isArray(customUnicodeList) && customUnicodeList.length >= glyphArr.length){\r\n        unicodes = customUnicodeList\r\n      } else {\r\n        unicodes = createUnicodes(glyphArr.length, startCodePoint)\r\n      }\r\n\r\n      glyphArr.map((glyphName, idx) => {\r\n        const d = this.getGlyphData(glyphSvgs[glyphName].path, ascent)\r\n        glyphs.push({ unicode: unicodes[idx], d: d[0], originDs: d[1], horizAdvX: 1024, vertAdvY: 1024, glyphName, originName: glyphSvgs[glyphName].originName || glyphName})\r\n      })\r\n\r\n      return glyphs\r\n    }\r\n\r\n    if(typeof glyphSvgs === 'string'){\r\n      let unicodes\r\n      if(customUnicodeList && Array.isArray(customUnicodeList) && customUnicodeList.length >= glyphSvgs.length){\r\n        unicodes = customUnicodeList\r\n      } else {\r\n        unicodes = createUnicodes(1, startCodePoint)\r\n      }\r\n\r\n      const d = this.getGlyphData(glyphSvgs, ascent)\r\n      glyphs.push({ unicode: unicodes[0], d: d[0], originDs: d[1], horizAdvX: 1024, vertAdvY: 1024, glyphName: `${this.fontName}_0`})\r\n      return glyphs\r\n    }\r\n  }\r\n\r\n  getGlyphData (data, ascent) {\r\n    let d1 = '' // font fontcss\r\n    let d2 = [] // symbol originD list\r\n\tvar d = '';\r\n    const Node = new DOMParser().parseFromString(data, 'application/xml')\r\n    Array.from(Node.documentElement.childNodes).map( (node:any) => {\r\n      if (node.nodeName.toUpperCase() === 'PATH' && node.hasAttribute && node.hasAttribute('d')) {\r\n\t\t  if(node.hasAttribute('fill') && node.getAttribute('fill') == \"none\") {\r\n\t\t    return;\r\n\t\t  }\r\n\t\t  d = node.getAttribute('d');\r\n          d2.push({\r\n            d: svgpath(d).rel().round(2).toString(),\r\n            fill: node.getAttribute('fill') || ''\r\n          })\r\n      } else if (node.nodeName.toLowerCase() === 'circle' && node.hasAttribute) {\r\n\t\tvar cx = node.getAttribute(\"cx\");\r\n\t\tvar cy = node.getAttribute(\"cy\");\r\n\t\tvar r = node.getAttribute(\"r\");\r\n\t\tvar rx = node.getAttribute(\"rx\");\r\n\t\tvar ry = node.getAttribute(\"ry\");\r\n\t\tif (r) {\r\n\t\t\trx = ry = r;\r\n\t\t}\r\n\t\tvar fill = node.getAttribute(\"fill\") || '';\r\n\t\tif (fill == \"none\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\td = `M${cx-rx} ${cy}a${rx} ${ry} 0 1 0 ${2*rx} 0a${rx} ${ry} 0 1 0 ${-2*rx} 0 z`\r\n\r\n\t\td2.push({\r\n\t\t\td: svgpath(d).rel().round(2).toString(),\r\n\t\t\tfill: fill\r\n\t\t});\r\n\t  }\r\n\t  // SVG字体与标准图形坐标系不一致 https://www.w3.org/TR/SVG/text.html#DominantBaselineProperty\r\n\t  const signalD = svgpath(d).rel().round(2).scale(this.svgSize*1.8, -this.svgSize*1.8).translate(0, ascent).toString()\r\n\t  if(!/z$/.test(signalD)){\r\n\t\td1 += signalD+'z'\r\n\t  } else {\r\n\t\td1 += signalD\r\n\t  }\r\n    })\r\n    return [d1, d2]\r\n  }\r\n\r\n  getGlyph () {\r\n    return this.svgFont\r\n  }\r\n\r\n  getTTF () {\r\n    const ttfBuffer = Buffer.from(svg2ttf(this.svgFont, {\r\n      copyright: this.copyright\r\n    }).buffer)\r\n    return ttfBuffer\r\n  }\r\n\r\n  getEOT () {\r\n    const ttfBuffer = this.getTTF()\r\n    return Buffer.from(ttf2eot(ttfBuffer).buffer)\r\n  }\r\n\r\n  getWOFF () {\r\n    const ttfBuffer = this.getTTF()\r\n    return Buffer.from(ttf2woff(ttfBuffer).buffer)\r\n  }\r\n\r\n  getWOFF2 () {\r\n    const ttfBuffer = this.getTTF()\r\n    return Buffer.from(ttf2woff2(ttfBuffer).buffer)\r\n  }\r\n\r\n  convertFonts ({dist = './', fontTypes = ['eot', 'woff2', 'woff', 'ttf', 'svg'], css = true, symbol = true, html = true, fontCdnUrl = '', scss = true}) {\r\n    const fontName = this.fontName\r\n    const fontFamily = this.fontFamily\r\n    const fontFamilyClass = this.fontFamilyClass\r\n    const glyphs = this.glyphs\r\n    fontTypes.map( format => {\r\n      switch (format) {\r\n        case 'svg':\r\n          fs.writeFileSync(path.join(dist, `${fontName}.svg`), this.getGlyph())\r\n          break;\r\n        case 'ttf':\r\n          fs.writeFileSync(path.join(dist, `${fontName}.ttf`), this.getTTF())\r\n          break;\r\n        case 'eot':\r\n          fs.writeFileSync(path.join(dist, `${fontName}.eot`), this.getEOT())\r\n          break;\r\n        case 'woff':\r\n          fs.writeFileSync(path.join(dist, `${fontName}.woff`), this.getWOFF())\r\n          break;\r\n        case 'woff2':\r\n          fs.writeFileSync(path.join(dist, `${fontName}.woff2`), this.getWOFF2())\r\n          break;\r\n      }\r\n    })\r\n\r\n    if(css && fontTypes.length > 0){\r\n      const CSSTMPL = fontCSSTemplate(fontTypes, fontName, fontFamily, fontFamilyClass, glyphs, fontCdnUrl)\r\n      fs.writeFileSync(path.join(dist, `${fontName}.css`), CSSTMPL)\r\n    }\r\n\r\n    if(scss && fontTypes.length > 0){\r\n      const CSSTMPL = fontSCSSTemplate(fontTypes, fontName, fontFamily, fontFamilyClass, glyphs, fontCdnUrl)\r\n      fs.writeFileSync(path.join(dist, `${fontName}.scss`), CSSTMPL)\r\n    }\r\n\r\n    if(symbol && fontTypes.length > 0){\r\n      const SYMBOLTMPL = svgSymbolTemplate(fontTypes, fontName, glyphs)\r\n      fs.writeFileSync(path.join(dist, `${fontName}.js`), SYMBOLTMPL)\r\n    }\r\n\r\n    if(html && fontTypes.length > 0){\r\n      const HTMLTMPL = htmlTemplate(fontTypes, fontName, fontFamilyClass, glyphs)\r\n      fs.writeFileSync(path.join(dist, `${fontName}.html`), HTMLTMPL)\r\n    }\r\n\r\n    const ANDROIDTMPL = AndroidTemplate(fontName, glyphs)\r\n    fs.writeFileSync(path.join(dist, `icon_${fontFamily}.xml`), ANDROIDTMPL)\r\n\r\n    const IOSTMPL = iOSTemplate(fontFamily, glyphs, this.copyright)\r\n    fs.writeFileSync(path.join(dist, `JDIF_${fontFamily.replace(fontFamily[0], fontFamily[0].toUpperCase())}.h`), IOSTMPL)\r\n\r\n    const RNTMPL = RNTemplate(fontFamily, glyphs)\r\n    fs.writeFileSync(path.join(dist, `icon_${fontFamily}.js`), RNTMPL)\r\n  }\r\n}\r\n","const Glob = require(\"glob\")\r\nconst path = require('path')\r\n\r\nimport { readToFile, readStreamToFile } from './utils'\r\nimport createUnicodes from './unicodes'\r\nimport Font from './font'\r\n\r\nconst getFileList = (pattern, options = {}) => {\r\n  const promise = new Promise<string[]>((resolve, reject) => {\r\n    Glob(pattern, options, (err, files:string[]) => {\r\n      if(err){\r\n        console.error(err)\r\n        reject([])\r\n      }\r\n      resolve(files)\r\n    })\r\n  })\r\n  return promise\r\n}\r\n\r\nasync function svg2Font({\r\n  src = '',\r\n  dist = '',\r\n  fontName = 'svg2font',\r\n  fontFamily = 'svg2font',\r\n  fontFamilyClass = 'font-family',\r\n  fontCdnUrl = '',\r\n  startCodePoint = 57344,\r\n  customUnicodeList,\r\n  ascent = 896,\r\n  descent = -128,\r\n  css = true,\r\n  symbol = true,\r\n  html = true,\r\n  fontTypes = ['eot', 'woff2', 'woff', 'ttf', 'svg'],\r\n  svgSize = (1/1.8),\r\n  copyright = 'Copyright (C)',\r\n  scss = true,\r\n}) {\r\n\r\n  // const files = Glob.sync(src, {}) || []\r\n  const files = await getFileList(src)\r\n  const glyphSvgs = {}\r\n\r\n  for(let i = 0, len = files.length; i< len; i++){\r\n    const data:any = await readStreamToFile(files[i])\r\n    const glyphName = path.basename(files[i]).replace(/\\.[^.]*$/, \"\");\r\n    glyphSvgs[glyphName] = {\r\n      path: data\r\n    }\r\n  }\r\n\r\n  const font = new Font({\r\n    fontName,\r\n    fontFamily,\r\n    fontFamilyClass,\r\n    glyphSvgs,\r\n    ascent,\r\n    descent,\r\n    startCodePoint,\r\n\tcustomUnicodeList,\r\n\tsvgSize,\r\n\tcopyright,\r\n  })\r\n\r\n  return font.convertFonts({dist, fontTypes, css, symbol, html, fontCdnUrl, scss})\r\n}\r\nexport { svg2Font, Font }\r\n\r\n"],"names":["fs","path"],"mappings":"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"}